webpackJsonp([1],{132:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",mounted:function(){this.$router.push({name:"Login"})}}},133:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{language:{}}},methods:{back:function(){this.$router.push({name:"Login"})}},mounted:function(){var t=this;this.$http.get("/wyfx/page/getPageMsg",{params:{msg:"error"}}).then(function(e){t.language=e.data.data})}}},134:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{language:{logoTxt:"",loginTitle:"",userNamePls:"",userNameMes:"",pwdPls:"",pwdNameMes:"",verCodePls:"",verCodeMes:"",subBtnTxt:"",footerInfo:""},subLoading:!1,ruleForm:{name:"",psw:"",verCode:""},rules:{name:{required:!0,message:"",trigger:"blur"},psw:{required:!0,message:"",trigger:"blur"},verCode:{required:!0,message:"",trigger:"blur"}},backgroundDiv:{backgroundImage:"url("+a(204)+")"}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.subLoading=!0;var a=e,n=new FormData;n.append("username",e.ruleForm.name),n.append("password",e.ruleForm.psw),n.append("code",e.ruleForm.verCode),e.$http.post("/wyfx/user/login",n).then(function(t){"200"==t.data.code?a.$router.push({name:"SystemCenter"}):"101"==t.data.code?a.$message({message:t.data.msg,type:"error"}):"102"==t.data.code?a.$message({message:t.data.msg,type:"error"}):"100"==t.data.code&&a.$message({message:t.data.msg,type:"error"}),a.subLoading=!1})})},refreshVerCode:function(){document.getElementById("codeValidateImg").src=this.$rootPath+"/wyfx/user/code?time="+this.$getNowFormatDate()},handleLagChange:function(t){"1"==t?this.languageChange("en_US"):"2"==t?this.languageChange("zh_TW"):"3"==t&&this.languageChange("zh_CN")},languageChange:function(t){var e=this;this.$http.get("/wyfx/page/changeLanguage",{params:{msg:t}}).then(function(t){e.$router.go(0)})},getLang:function(t){var e=this;this.$http.get("/wyfx/page/getPageMsg",{params:{msg:"Login"}}).then(function(t){e.language=t.data.data,e.rules.name.message=e.language.userNameMes,e.rules.psw.message=e.language.pwdNameMes,e.rules.verCode.message=e.language.verCodeMes})}},mounted:function(){this.getLang(this.refreshVerCode())}}},135:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this,e=function(e,a,n){""===a?n(new Error(t.language.cpwdNameNull)):n()},n=function(e,a,n){var s=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,21}$/;""===a?n(new Error(t.language.cpwdPwdNull)):s.test(a)?n():n(new Error(t.language.cpwdPwdErr))},s=function(e,a,n){""===a||a!==t.updatePassForm.newPwd?n(new Error(t.language.cpwdSurePwdErr)):n()};return{main_bcg:{backgroundImage:"url("+a(205)+")"},authority:[{code:"SystemConfig",ishide:!0},{code:"SF",ishide:!0},{code:"FileTrace",ishide:!0},{code:"AM",ishide:!0},{code:"EWM",ishide:!0},{code:"Android",ishide:!0},{code:"IOS",ishide:!0},{code:"Vikit",ishide:!0}],language:{logoTxt:"",sysConfig:"",language:"",Ens:"",zhTw:"",zhCn:"",changePwd:"",signOut:"",footerInfo:"",sf:"",mobTro:"",fileTrack:"",cpwdNameNull:"",cpwdPwdNull:"",cpwdPwdErr:"",cpwdSurePwdErr:""},userName:"",updatePassVisible:!1,updatePassForm:{oldPwd:"",newPwd:"",surePwd:""},updatePassRules:{oldPwd:{validator:e,trigger:"blur"},newPwd:{validator:n,trigger:"blur"},surePwd:{validator:s,trigger:"blur"}}}},methods:{getArti:function(t){var e=this;this.$http.get("/wyfx/function/getMenuByLoginUser").then(function(t){var a=t.data.data;for(var n in a)for(var s in e.authority)e.authority[s].code==a[n].code&&(e.authority[s].ishide=!1)})},getUser:function(t){var e=this;this.$http.get("/wyfx/user/getLoginUser").then(function(t){"200"==t.data.code?e.userName=t.data.msg:"103"==t.data.code&&e.$router.push({name:"Login"})})},getLang:function(){var t=this;this.$http.get("/wyfx/page/getPageMsg",{params:{msg:"SystemCenter"}}).then(function(e){t.language=e.data.data})},handleLagChange:function(t){"1"==t?this.languageChange("en_US"):"2"==t?this.languageChange("zh_TW"):"3"==t&&this.languageChange("zh_CN")},languageChange:function(t){var e=this;this.$http.get("/wyfx/page/changeLanguage",{params:{msg:t}}).then(function(t){e.$router.go(0)})},userCenter:function(t){"1"==t?this.showPwdDialog():"2"==t&&this.signOut()},showPwdDialog:function(){this.updatePassVisible=!0},submitPwd:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e;a.$http.get("/wyfx/user/updatePass",{params:{oldPass:a.updatePassForm.oldPwd,newPass:a.updatePassForm.newPwd}}).then(function(t){"200"==t.data.code?(a.$message({message:t.data.msg,type:"success"}),a.updatePassVisible=!1):(t.data.code,a.$message({message:t.data.msg,type:"error"}))})})},restPwdDialog:function(t){this.updatePassForm.oldPwd="",this.updatePassForm.newPwd="",this.updatePassForm.surePwd="",this.$refs[t].resetFields(),this.updatePassVisible=!1},signOut:function(){var t=this;t.$http.get("/wyfx/user/logout").then(function(e){t.$router.push({name:"Login"})})},handleCardClick:function(t){this.$http.get("/wyfx/page/redirect?path="+t).then(function(t){window.location.href=t.data.msg})}},mounted:function(){var t=this,e=t.$loading();t.$http.all([t.$http.get("/wyfx/page/getPageMsg",{params:{msg:"SystemCenter"}}),t.$http.get("/wyfx/user/getLoginUser"),t.$http.get("/wyfx/function/getMenuByLoginUser")]).then(t.$http.spread(function(a,n,s){t.language=a.data.data,"200"==n.data.code?t.userName=n.data.msg:"103"==n.data.code&&t.$router.push({name:"Login"});var o=s.data.data;for(var r in o)for(var i in t.authority)t.authority[i].code==o[r].code&&(t.authority[i].ishide=!1);e.close()})).catch(function(a){e.close(),console.log(a),t.$router.push({name:"Error"})})}}},136:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),s=a(52),o=a.n(s),r=a(89),i=(a.n(r),a(50)),l=a(51),u=a(88),d=(a.n(u),a(90)),c=a.n(d);n.default.config.productionTip=!1,n.default.use(o.a),n.default.prototype.$rootPath="",n.default.prototype.$RootPath=function(){var t=window.document.location.href,e=window.document.location.pathname,a=t.indexOf(e);return t.substring(0,a)},n.default.prototype.$getNowFormatDate=function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),t.getFullYear()+"-"+e+"-"+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},n.default.prototype.$http=i.a,n.default.prototype.$httpi=i.b,new n.default({el:"#app",router:l.a,template:"<App/>",components:{App:c.a}})},195:function(t,e){},196:function(t,e){},197:function(t,e){},198:function(t,e){},199:function(t,e){},203:function(t,e,a){t.exports=a.p+"static/img/404.93c9805.png"},204:function(t,e,a){t.exports=a.p+"static/img/login-bcg.785f6cb.png"},205:function(t,e,a){t.exports=a.p+"static/img/system-center-bcg.1a35e1f.png"},206:function(t,e,a){function n(t){a(199)}var s=a(31)(a(133),a(212),n,"data-v-c5fbd9fe",null);t.exports=s.exports},207:function(t,e,a){function n(t){a(195)}var s=a(31)(a(134),a(209),n,"data-v-22e397e2",null);t.exports=s.exports},208:function(t,e,a){function n(t){a(196)}var s=a(31)(a(135),a(210),n,"data-v-33a8da7b",null);t.exports=s.exports},209:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"backgroundDiv",style:t.backgroundDiv}),t._v(" "),a("el-dropdown",{staticClass:"lageChan",attrs:{trigger:"click","menu-align":"start"},on:{command:t.handleLagChange}},[a("el-button",{staticClass:"right-set lageChan-btn"},[a("i",{staticClass:"iconfont icon-language",staticStyle:{"margin-right":"5px"}}),t._v(t._s(t.language.language)+"\n    ")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"1"}},[t._v(t._s(t.language.Ens))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"2"}},[t._v(t._s(t.language.zhTw))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"3"}},[t._v(t._s(t.language.zhCn))])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"login-box",attrs:{model:t.ruleForm,rules:t.rules}},[a("h3",{staticClass:"login-title"},[t._v(t._s(t.language.loginTitle))]),t._v(" "),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{type:"text",placeholder:t.language.userNamePls},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submitForm("ruleForm")}},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}},[a("template",{slot:"append"},[a("i",{staticClass:"iconfont icon-username"})])],2)],1),t._v(" "),a("el-form-item",{attrs:{prop:"psw"}},[a("el-input",{attrs:{type:"password",placeholder:t.language.pwdPls},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submitForm("ruleForm")}},model:{value:t.ruleForm.psw,callback:function(e){t.$set(t.ruleForm,"psw",e)},expression:"ruleForm.psw"}},[a("template",{slot:"append"},[a("i",{staticClass:"iconfont icon-password"})])],2)],1),t._v(" "),a("el-form-item",{staticClass:"clearfix",attrs:{prop:"verCode"}},[a("el-input",{staticClass:"verCode fl",attrs:{type:"text",placeholder:t.language.verCodePls},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submitForm("ruleForm")}},model:{value:t.ruleForm.verCode,callback:function(e){t.$set(t.ruleForm,"verCode",e)},expression:"ruleForm.verCode"}}),t._v(" "),a("img",{staticClass:"verImg fl",attrs:{id:"codeValidateImg"},on:{click:t.refreshVerCode}})],1),t._v(" "),a("el-button",{staticClass:"subBtn",attrs:{type:"primary",size:"large",loading:t.subLoading},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v(t._s(t.language.subBtnTxt))])],1),t._v(" "),a("div",{staticClass:"logo-box"},[a("div",{staticClass:"name"},[t._v(t._s(t.language.logoTxt))])]),t._v(" "),a("div",{staticClass:"footer"},[a("p",[t._v(t._s(t.language.footerInfo))])])],1)},staticRenderFns:[]}},210:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",style:t.main_bcg},[a("div",{staticClass:"container"},[a("div",{staticClass:"card",class:{hide:t.authority[1].ishide},on:{click:function(e){t.handleCardClick("sf")}}},[a("i",{staticClass:"iconfont icon-device card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.sf))])]),t._v(" "),a("div",{staticClass:"card",class:{hide:t.authority[2].ishide},on:{click:function(e){t.handleCardClick("ft")}}},[a("i",{staticClass:"iconfont icon-file card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.fileTrack))])]),t._v(" "),a("div",{staticClass:"card",class:{hide:t.authority[3].ishide},on:{click:function(e){t.handleCardClick("am")}}},[a("i",{staticClass:"iconfont icon-file card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.anonymousAnalysis))])]),t._v(" "),a("div",{staticClass:"card",class:{hide:t.authority[4].ishide},on:{click:function(e){t.handleCardClick("EWM")}}},[a("i",{staticClass:"iconfont icon-file card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.EWM))])])]),t._v(" "),a("div",{staticClass:"container2"},[a("div",{staticClass:"card",class:{hide:t.authority[5].ishide},on:{click:function(e){t.handleCardClick("Android")}}},[a("i",{staticClass:"iconfont icon-phone card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.Android))])]),t._v(" "),a("div",{staticClass:"card",class:{hide:t.authority[6].ishide},on:{click:function(e){t.handleCardClick("IOS")}}},[a("i",{staticClass:"iconfont icon-phone card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.IOS))])]),t._v(" "),a("div",{staticClass:"card",class:{hide:t.authority[7].ishide},on:{click:function(e){t.handleCardClick("Vikit")}}},[a("i",{staticClass:"iconfont icon-file card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v(t._s(t.language.Vikit))])])]),t._v(" "),a("div",{staticClass:"header clearfix"},[a("div",{staticClass:"logo-txt fl"},[t._v(t._s(t.language.logoTxt))]),t._v(" "),a("div",{staticClass:"fr"},[a("el-button",{staticClass:"right-set",class:{hide:t.authority[0].ishide}},[a("i",{staticClass:"iconfont icon-system-config",staticStyle:{"margin-right":"5px"}}),t._v(t._s(t.language.sysConfig)+"\n      ")]),t._v(" "),a("el-dropdown",{attrs:{trigger:"click","menu-align":"start"},on:{command:t.handleLagChange}},[a("el-button",{staticClass:"right-set"},[a("i",{staticClass:"iconfont icon-language",staticStyle:{"margin-right":"5px"}}),t._v(t._s(t.language.language)+"\n        ")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"1"}},[t._v(t._s(t.language.Ens))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"2"}},[t._v(t._s(t.language.zhTw))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"3"}},[t._v(t._s(t.language.zhCn))])],1)],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click","menu-align":"start"},on:{command:t.userCenter}},[a("el-button",{staticClass:"right-set"},[a("i",{staticClass:"iconfont icon-user",staticStyle:{"margin-right":"5px"}}),t._v(t._s(t.userName)+"\n        ")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"1"}},[t._v(t._s(t.language.changePwd))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"2"}},[t._v(t._s(t.language.signOut))])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"footer"},[a("p",[t._v(t._s(t.language.footerInfo))])]),t._v(" "),a("el-dialog",{attrs:{title:"修改密碼",visible:t.updatePassVisible,size:"tiny","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.updatePassVisible=e}}},[a("el-form",{ref:"updatePassForm",attrs:{model:t.updatePassForm,rules:t.updatePassRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"原密碼",prop:"oldPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.updatePassForm.oldPwd,callback:function(e){t.$set(t.updatePassForm,"oldPwd",e)},expression:"updatePassForm.oldPwd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"新密碼",prop:"newPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.updatePassForm.newPwd,callback:function(e){t.$set(t.updatePassForm,"newPwd",e)},expression:"updatePassForm.newPwd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"確認密碼",prop:"surePwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.updatePassForm.surePwd,callback:function(e){t.$set(t.updatePassForm,"surePwd",e)},expression:"updatePassForm.surePwd"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.restPwdDialog("updatePassForm")}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitPwd("updatePassForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},211:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},212:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"error-imgbox"},[n("img",{staticClass:"error-img",attrs:{src:a(203),alt:""}})]),t._v(" "),n("div",{staticClass:"error-txt"},[t._v(t._s(t.language.errTxt))]),t._v(" "),n("div",{staticClass:"error-btnbox"},[n("el-button",{attrs:{type:"primary"},on:{click:t.back}},[t._v(t._s(t.language.backBtn))])],1)])},staticRenderFns:[]}},50:function(t,e,a){"use strict";a.d(e,"b",function(){return d});var n=a(138),s=a.n(n),o=a(113),r=a.n(o),i=a(52),l=(a.n(i),a(51));a.d(e,"a",function(){return r.a}),r.a.defaults.baseURL="",r.a.defaults.withCredentials=!0;var u,d=r.a.create({baseURL:"",withCredentials:!0});d.interceptors.request.use(function(t){return u=i.Loading.service({fullscreen:!0}),t},function(t){return u.close(),i.Message.error({message:"time out"}),s.a.reject(t)}),d.interceptors.response.use(function(t){return u.close(),t},function(t){u.close(),console.log(t),l.a.push({name:"Error"})})},51:function(t,e,a){"use strict";var n=a(4),s=a(213),o=a(50),r=a(207),i=a.n(r),l=a(206),u=a.n(l),d=a(208),c=a.n(d);n.default.use(s.a);var g=new s.a({routes:[{path:"/login",name:"Login",component:i.a},{path:"/error",name:"Error",component:u.a},{path:"/system-center",name:"SystemCenter",component:c.a}]});g.beforeEach(function(t,e,a){"Login"==t.name?o.b.get("/wyfx/function/verifyFunction",{params:{path:t.path}}).then(function(t){"200"==t.data.code?a({name:"SystemCenter"}):"103"==t.data.code?a():a({name:"Error"})}).catch(function(t){console.log(t),a({name:"Error"})}):"Error"==t.name?a():o.b.get("/wyfx/function/verifyFunction",{params:{path:t.path}}).then(function(t){"200"==t.data.code?a():a("103"==t.data.code?{name:"Login"}:{name:"Error"})}).catch(function(t){console.log(t),a({name:"Error"})})}),e.a=g},88:function(t,e){},89:function(t,e){},90:function(t,e,a){function n(t){a(197),a(198)}var s=a(31)(a(132),a(211),n,null,null);t.exports=s.exports}},[136]);
//# sourceMappingURL=app.0e0411182b6ccf8cda83.js.map